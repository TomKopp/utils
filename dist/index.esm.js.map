{"version":3,"file":"index.esm.js","sources":["../src/jsonParse.js","../src/clampValue.js","../src/errors.js","../src/debounce.js","../src/mapValueFromInputToOutputRange.js","../src/throttle.js","../src/attrConvert.js"],"sourcesContent":["export const jsonParse = (data) => new Promise((resolve, reject) => {\n\ttry {\n\t\tresolve(JSON.parse(data));\n\t} catch (error) {\n\t\t// @value {SyntaxError} error json parse throws SyntaxError\n\t\treject(error);\n\t}\n});\n\nexport const jsonParseSync = (data) => {\n\tlet ret;\n\n\ttry {\n\t\tret = JSON.parse(data);\n\t} catch (error) {\n\t\t// @value {SyntaxError} error json parse throws SyntaxError\n\t\tret = error;\n\t}\n\n\treturn ret;\n};\n","/**\n * Clamp value between min and max (inclusive)\n *\n * @param {number} val value to clamp\n * @param {number} min minimum value\n * @param {number} max maximum value\n * @returns {number} min <= val <= max\n */\nexport const clampValue = (val, min, max) => Math.min(Math.max(min, val), max);\n","export const ExpectedFunctionError = TypeError('Expected a function');\n","import { ExpectedFunctionError } from './errors';\n\nexport const debounce = (func, wait, immediate = false) => {\n\tif (typeof func !== 'function') { throw new ExpectedFunctionError(); }\n\n\tlet timeout;\n\n\treturn function debounced(...args) {\n\t\tconst later = () => {\n\t\t\ttimeout = null;\n\t\t\tif (!immediate) { func.apply(this, args); }\n\t\t};\n\n\t\tconst callNow = immediate && !timeout;\n\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\n\t\tif (callNow) { func.apply(this, args); }\n\t};\n};\n","export const mapValueFromInputToOutputRange = (val, inputMin, inputMax, outputMin, outputMax) => (outputMax - outputMin) * (val - inputMin) / (inputMax - inputMin) + outputMin;\n","import { ExpectedFunctionError } from './errors';\n\nexport const throttle = (func, wait, immediate = false) => {\n\tif (typeof func !== 'function') { throw new ExpectedFunctionError(); }\n\n\tlet timeout;\n\n\treturn function throttled(...args) {\n\t\tconst later = () => {\n\t\t\ttimeout = null;\n\t\t\tif (!immediate) { func.apply(this, args); }\n\t\t};\n\t\tconst callNow = immediate && !timeout;\n\n\t\tif (!timeout) { timeout = setTimeout(later, wait); }\n\t\tif (callNow) { func.apply(this, args); }\n\t};\n};\n\nexport const rAFthrottle = (func, immediate = false) => {\n\tif (typeof func !== 'function') { throw new ExpectedFunctionError(); }\n\n\tlet rAFid;\n\n\treturn function throttled(...args) {\n\t\tconst later = () => {\n\t\t\trAFid = null;\n\t\t\tif (!immediate) { func.apply(this, args); }\n\t\t};\n\t\tconst callNow = immediate && !rAFid;\n\n\t\tif (!rAFid) { rAFid = requestAnimationFrame(later); }\n\t\tif (callNow) { func.apply(this, args); }\n\t};\n};\n","/**\n * Converts an attribute string value to boolean\n *\n * @exports\n * @param {string} val attribute value\n * @returns {boolean} boolean interpretation of attribute\n */\nexport function attr2bool(val) { return val !== null; }\n\n/**\n * Converts a boolean value to a boolean attribute value\n *\n * @exports\n * @param {boolean} val a boolean\n * @returns {(string | null)} empty strign if attribute should exist, else null\n */\nexport function bool2attr(val) { return val ? '' : null; }\n"],"names":["jsonParse","data","Promise","resolve","reject","JSON","parse","error","jsonParseSync","ret","clampValue","val","min","max","Math","ExpectedFunctionError","TypeError","debounce","func","wait","immediate","timeout","args","callNow","clearTimeout","setTimeout","apply","this","mapValueFromInputToOutputRange","inputMin","inputMax","outputMin","outputMax","throttle","later","rAFthrottle","rAFid","requestAnimationFrame","attr2bool","bool2attr"],"mappings":"MAAaA,EAAaC,GAAS,IAAIC,QAAQ,CAACC,EAASC,SAEvDD,EAAQE,KAAKC,MAAML,IAClB,MAAOM,GAERH,EAAOG,MAIIC,EAAiBP,QACzBQ,MAGHA,EAAMJ,KAAKC,MAAML,GAChB,MAAOM,GAERE,EAAMF,SAGAE,GCXKC,EAAa,CAACC,EAAKC,EAAKC,IAAQC,KAAKF,IAAIE,KAAKD,IAAID,EAAKD,GAAME,GCR7DE,EAAwBC,UAAU,uBCElCC,EAAW,CAACC,EAAMC,EAAMC,GAAY,QAC5B,mBAATF,QAA6B,IAAIH,MAExCM,SAEG,YAAsBC,SAMtBC,EAAUH,IAAcC,EAE9BG,aAAaH,GACbA,EAAUI,WARI,KACbJ,EAAU,KACLD,GAAaF,EAAKQ,MAAMC,KAAML,IAMRH,GAExBI,GAAWL,EAAKQ,MAAMC,KAAML,KClBrBM,EAAiC,CAACjB,EAAKkB,EAAUC,EAAUC,EAAWC,KAAeA,EAAYD,IAAcpB,EAAMkB,IAAaC,EAAWD,GAAYE,ECEzJE,EAAW,CAACf,EAAMC,EAAMC,GAAY,QAC5B,mBAATF,QAA6B,IAAIH,MAExCM,SAEG,YAAsBC,SACtBY,EAAQ,KACbb,EAAU,KACLD,GAAaF,EAAKQ,MAAMC,KAAML,IAE9BC,EAAUH,IAAcC,EAEzBA,IAAWA,EAAUI,WAAWS,EAAOf,IACxCI,GAAWL,EAAKQ,MAAMC,KAAML,KAIrBa,EAAc,CAACjB,EAAME,GAAY,QACzB,mBAATF,QAA6B,IAAIH,MAExCqB,SAEG,YAAsBd,SACtBY,EAAQ,KACbE,EAAQ,KACHhB,GAAaF,EAAKQ,MAAMC,KAAML,IAE9BC,EAAUH,IAAcgB,EAEzBA,IAASA,EAAQC,sBAAsBH,IACxCX,GAAWL,EAAKQ,MAAMC,KAAML,KCzB3B,SAASgB,EAAU3B,UAAsB,OAARA,EASjC,SAAS4B,EAAU5B,UAAcA,EAAM,GAAK"}